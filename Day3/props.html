<html>

  <head>
      <script src="react.js"> </script>
      <script src="react-dom.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.js"></script>
  </head>

  <body>
      <div id="root"></div>

      <script type="text/jsx">

            class TextInputComponent  extends React.Component{
                constructor(props)
                {
                    super(props)

                    this.onKeyUpHandler = this.onKeyUpHandler.bind(this)
                }

                onKeyUpHandler(e){
                    this.props.processInput(e.target.value)
                }

                render(){
                    return(
                        <div>
                            <input type='text' placeholder='enter text here' onKeyUp={this.onKeyUpHandler}/>
                        </div>
                    )
                }
            }

            class LabelComponent1  extends React.Component{
                constructor(props)
                {
                    super(props)
                }

                render(){
                    return(
                        <div>
                            {
                                this.props.message.length > 0
                                    ?
                                    <h3>Hello {this.props.message}</h3>
                                    :
                                    <h3></h3>
                            }

                        </div>
                    )
                }
            }

            class LabelComponent2  extends React.Component{
                constructor(props)
                {
                    super(props)
                }

                render(){
                    return(
                        <div>
                        {
                            this.props.message.length > 0
                                ?
                                <h3>Lowercase Message: {this.props.message.toUpperCase()}</h3>
                                :
                                <h3></h3>
                        }

                        </div>
                    )
                }
            }

            class MainComponent extends React.Component{
                constructor(props)
                {
                    super(props)

                    this.state= {
                        label1Message: '',
                        label2Message: ''
                    }

                    this.processInput = this.processInput.bind(this)
                }

                processInput(input){
                    console.log(`From Main compoinentprocessinput ${input}`)

                    this.setState({
                        label1Message: input,
                        label2Message: input
                    })
                }

                render()
                {
                    return(
                        <div>
                            <h1>Welcome to props exercise</h1>
                            <TextInputComponent processInput={this.processInput}/>

                            <hr/>

                            <br/>
                            <LabelComponent1 message={this.state.label1Message}/>
                            <br/>
                            <LabelComponent2 message={this.state.label2Message}/>

                        </div>
                    )
                }
            }


            ReactDOM.render(<MainComponent />, document.getElementById('root'))
      </script>

  </body>

</html>
